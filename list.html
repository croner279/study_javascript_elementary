<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link href="main.css" rel="stylesheet">
  <!-- 설치한 곳 하단부터 jQuery 사용 가능. 원래는 body 안에 넣어야 페이지 로드 성능이 괜찮은데 이번만 head에 넣자-->
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"
    integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>


  <title>Hello, world!</title>
</head>

<body>

  <div class="container">
    <div class="row">

    </div>
  </div>

  <div class="container">
    <button class="btn btn-danger" id="more">더보기</button>
  </div>

  <script>

    function 카드생성(a) {
      var card = `
              <div class="col-sm-4">
                <img src="https://via.placeholder.com/600" class="w-100">
                <h5>상품명 ${a.title}</h5>
                <p>가격 ${a.price}</p>
                </div>`;
      $('.row').append(card)
    }

    var click_count = 0;

    $('#more').click(function () {

      click_count++;
      console.log(click_count);
      var json_url = 'https://codingapple1.github.io/js/more' + click_count + '.json';

      if (click_count == 1 || click_count == 2) {
        $.get(json_url)
          .done(function (data) {
            // 1. 더보기버튼 지우기 2. 카드 3개 더 찍어내기
            data.forEach(function (a) {
              카드생성(a);
            });
            if (click_count == 2) {
              $('#more').css('display', 'none')
            }
          })
      }
    })



  </script>




  <script>
    var products = [
      { id: 0, price: 70000, title: 'Blossom Dress' },
      { id: 1, price: 50000, title: 'Springfield Shirt' },
      { id: 2, price: 60000, title: 'Black Monastery' }
    ];

    /*     var card = `
          <div class="col-sm-4">
            <img src="https://via.placeholder.com/600" class="w-100">
            <h5>Card title</h5>
            <p>가격 : 70000</p>
          </div>`
    
        for (i = 0; i < 3; i++) {
          // 카드 생성해주고, class 내 h5태그 내 Card title을 products의 title로 교체, p태그 내 가격을 products의 price로 교체
          $('.col-sm-4 h5').html(products[i].title);
          $('.col-sm-4 p').html(products[i].price);
          $('.row').append(card);
        }
     */

    /*     var card = `
          <div class="col-sm-4">
            <img src="https://via.placeholder.com/600" class="w-100">
            <h5>'상품명 '+${products.title}</h5>
            <p>'가격 '+${products.price}</p>
          </div>` */

    products.forEach(function (a, i) {
      var card = `
      <div class="col-sm-4">
        <img src="https://via.placeholder.com/600" class="w-100">
        <h5>상품명 ${a.title}</h5>
        <p>가격 ${products[i].price}</p>
      </div>`;
      // 위에서 a 나 products[i]나 동일한 역할 함

      $('.row').append(card)
    })



  </script>

  <script>

  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>


</body>

</html>